<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `PipelineBarrierBuilder` struct in crate `vulkano`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, PipelineBarrierBuilder">

    <title>vulkano::command_buffer::sys::PipelineBarrierBuilder - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>vulkano</a>::<wbr><a href='../index.html'>command_buffer</a>::<wbr><a href='index.html'>sys</a></p><script>window.sidebarCurrent = {name: 'PipelineBarrierBuilder', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../../index.html'>vulkano</a>::<wbr><a href='../index.html'>command_buffer</a>::<wbr><a href='index.html'>sys</a>::<wbr><a class='struct' href=''>PipelineBarrierBuilder</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-5525' class='srclink' href='../../../src/vulkano/vulkano/src/command_buffer/sys.rs.html#1092-1099' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct PipelineBarrierBuilder {
    // some fields omitted
}</pre><div class='docblock'><p>Prototype for a pipeline barrier that&#39;s going to be added to a command buffer builder.</p>

<p>Note: we use a builder-like API here so that users can pass multiple buffers or images of
multiple different types. Doing so with a single function would be very tedious in terms of
API.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../../../vulkano/command_buffer/sys/struct.PipelineBarrierBuilder.html' title='vulkano::command_buffer::sys::PipelineBarrierBuilder'>PipelineBarrierBuilder</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-5535' class='srclink' href='../../../src/vulkano/vulkano/src/command_buffer/sys.rs.html#1101-1362' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class='struct' href='../../../vulkano/command_buffer/sys/struct.PipelineBarrierBuilder.html' title='vulkano::command_buffer::sys::PipelineBarrierBuilder'>PipelineBarrierBuilder</a></code></h4>
<div class='docblock'><p>Adds a command that adds a pipeline barrier to a command buffer.</p>
</div><h4 id='method.is_empty' class='method'><code>fn <a href='#method.is_empty' class='fnname'>is_empty</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns true if no barrier or execution dependency has been added yet.</p>
</div><h4 id='method.merge' class='method'><code>fn <a href='#method.merge' class='fnname'>merge</a>(&amp;mut self, other: <a class='struct' href='../../../vulkano/command_buffer/sys/struct.PipelineBarrierBuilder.html' title='vulkano::command_buffer::sys::PipelineBarrierBuilder'>PipelineBarrierBuilder</a>)</code></h4>
<div class='docblock'><p>Merges another pipeline builder into this one.</p>
</div><h4 id='method.add_execution_dependency' class='method'><code>unsafe fn <a href='#method.add_execution_dependency' class='fnname'>add_execution_dependency</a>(&amp;mut self, source: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, dest: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, by_region: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h4>
<div class='docblock'><p>Adds an execution dependency. This means that all the stages in <code>source</code> of the previous
commands must finish before any of the stages in <code>dest</code> of the following commands can start.</p>

<h1 id='safety' class='section-header'><a href='#safety'>Safety</a></h1>
<ul>
<li>If the pipeline stages include geometry or tessellation stages, then the corresponding
features must have been enabled.</li>
<li>There are certain rules regarding the pipeline barriers inside render passes.</li>
</ul>
</div><h4 id='method.add_memory_barrier' class='method'><code>unsafe fn <a href='#method.add_memory_barrier' class='fnname'>add_memory_barrier</a>(&amp;mut self, source_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, source_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, dest_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, dest_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, by_region: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h4>
<div class='docblock'><p>Adds a memory barrier. This means that all the memory writes by the given source stages
for the given source accesses must be visible by the given dest stages for the given dest
accesses.</p>

<p>Also adds an execution dependency.</p>

<h1 id='safety-1' class='section-header'><a href='#safety-1'>Safety</a></h1>
<ul>
<li>If the pipeline stages include geometry or tessellation stages, then the corresponding
features must have been enabled.</li>
<li>There are certain rules regarding the pipeline barriers inside render passes.</li>
</ul>
</div><h4 id='method.add_buffer_barrier_request' class='method'><code>unsafe fn <a href='#method.add_buffer_barrier_request' class='fnname'>add_buffer_barrier_request</a>(&amp;mut self, buffer: &amp;<a class='struct' href='../../../vulkano/buffer/sys/struct.UnsafeBuffer.html' title='vulkano::buffer::sys::UnsafeBuffer'>UnsafeBuffer</a>, request: <a class='struct' href='../../../vulkano/buffer/traits/struct.PipelineBarrierRequest.html' title='vulkano::buffer::traits::PipelineBarrierRequest'>BufferPipelineBarrierRequest</a>)</code></h4>
<h4 id='method.add_image_barrier_request' class='method'><code>unsafe fn <a href='#method.add_image_barrier_request' class='fnname'>add_image_barrier_request</a>(&amp;mut self, image: &amp;<a class='struct' href='../../../vulkano/image/sys/struct.UnsafeImage.html' title='vulkano::image::sys::UnsafeImage'>UnsafeImage</a>, request: <a class='struct' href='../../../vulkano/image/traits/struct.PipelineBarrierRequest.html' title='vulkano::image::traits::PipelineBarrierRequest'>ImagePipelineBarrierRequest</a>)</code></h4>
<h4 id='method.add_buffer_memory_barrier' class='method'><code>unsafe fn <a href='#method.add_buffer_memory_barrier' class='fnname'>add_buffer_memory_barrier</a>&lt;'a,&nbsp;T:&nbsp;?<a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html' title='core::marker::Sized'>Sized</a>,&nbsp;B&gt;(&amp;mut self, buffer: <a class='struct' href='../../../vulkano/buffer/struct.BufferSlice.html' title='vulkano::buffer::BufferSlice'>BufferSlice</a>&lt;'a,&nbsp;T,&nbsp;B&gt;, source_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, source_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, dest_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, dest_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, by_region: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>, queue_transfer: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a>&gt;) <span class='where'>where B: <a class='trait' href='../../../vulkano/buffer/traits/trait.Buffer.html' title='vulkano::buffer::traits::Buffer'>Buffer</a></span></code></h4>
<div class='docblock'><p>Adds a buffer memory barrier. This means that all the memory writes to the given buffer by
the given source stages for the given source accesses must be visible by the given dest
stages for the given dest accesses.</p>

<p>Also adds an execution dependency.</p>

<p>Also allows transfering buffer ownership between queues.</p>

<h1 id='safety-2' class='section-header'><a href='#safety-2'>Safety</a></h1>
<ul>
<li>If the pipeline stages include geometry or tessellation stages, then the corresponding
features must have been enabled.</li>
<li>There are certain rules regarding the pipeline barriers inside render passes.</li>
<li>The buffer must be alive for at least as long as the command buffer to which this barrier
is added.</li>
<li>Queue ownership transfers must be correct.</li>
</ul>
</div><h4 id='method.add_image_memory_barrier' class='method'><code>unsafe fn <a href='#method.add_image_memory_barrier' class='fnname'>add_image_memory_barrier</a>&lt;I&gt;(&amp;mut self, image: &amp;<a class='struct' href='https://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html' title='alloc::arc::Arc'>Arc</a>&lt;I&gt;, mipmaps: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>&gt;, layers: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>&gt;, source_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, source_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, dest_stage: <a class='struct' href='../../../vulkano/sync/struct.PipelineStages.html' title='vulkano::sync::PipelineStages'>PipelineStages</a>, dest_access: <a class='struct' href='../../../vulkano/sync/struct.AccessFlagBits.html' title='vulkano::sync::AccessFlagBits'>AccessFlagBits</a>, by_region: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>, queue_transfer: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a><a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a>&gt;, current_layout: <a class='enum' href='../../../vulkano/image/sys/enum.Layout.html' title='vulkano::image::sys::Layout'>Layout</a>, new_layout: <a class='enum' href='../../../vulkano/image/sys/enum.Layout.html' title='vulkano::image::sys::Layout'>Layout</a>) <span class='where'>where I: <a class='trait' href='../../../vulkano/image/traits/trait.Image.html' title='vulkano::image::traits::Image'>Image</a></span></code></h4>
<div class='docblock'><p>Adds an image memory barrier. This is the equivalent of <code>add_buffer_memory_barrier</code> but
for images.</p>

<p>In addition to transfering image ownership between queues, it also allows changing the
layout of images.</p>

<h1 id='safety-3' class='section-header'><a href='#safety-3'>Safety</a></h1>
<ul>
<li>If the pipeline stages include geometry or tessellation stages, then the corresponding
features must have been enabled.</li>
<li>There are certain rules regarding the pipeline barriers inside render passes.</li>
<li>The buffer must be alive for at least as long as the command buffer to which this barrier
is added.</li>
<li>Queue ownership transfers must be correct.</li>
<li>Image layouts transfers must be correct.</li>
<li>Access flags must be compatible with the image usage flags passed at image creation.</li>
</ul>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "vulkano";
        window.playgroundUrl = "";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    
    <script defer src="../../../search-index.js"></script>
</body>
</html>